import{r as o,g as w,j as e}from"./index-Dg9AU6g8.js";const y=()=>{const[r,c]=o.useState(""),[i,g]=o.useState(""),[a,h]=o.useState(!1),[d,n]=o.useState(""),[t,l]=o.useState(!1),u=w(),m=async()=>{l(!0),n("");try{const s=await fetch("https://localhost:7129/auth/userlogin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r,password:i})});if(s.ok){const p=await s.json();localStorage.setItem("token",p.token),u("/admin/upload")}else n("Invalid username or password.")}catch{n("Network error. Please try again.")}finally{l(!1)}};return e.jsxs("div",{style:{maxWidth:320,margin:"40px auto",padding:24,border:"1px solid #eee",borderRadius:8},children:[e.jsx("h2",{style:{textAlign:"center",marginBottom:24},children:"Admin Login"}),e.jsx("div",{style:{marginBottom:12},children:e.jsxs("label",{children:["Username",e.jsx("input",{value:r,onChange:s=>c(s.target.value),placeholder:"Admin",style:{width:"100%",padding:8,marginTop:4},autoComplete:"username",disabled:t})]})}),e.jsxs("div",{style:{marginBottom:12},children:[e.jsxs("label",{children:["Password",e.jsx("input",{type:a?"text":"password",value:i,onChange:s=>g(s.target.value),style:{width:"100%",padding:8,marginTop:4},autoComplete:"current-password",disabled:t})]}),e.jsxs("div",{style:{marginTop:4},children:[e.jsx("input",{type:"checkbox",checked:a,onChange:()=>h(!a),id:"showPassword",disabled:t}),e.jsx("label",{htmlFor:"showPassword",style:{marginLeft:4},children:"Show Password"})]})]}),d&&e.jsx("div",{style:{color:"red",marginBottom:12},children:d}),e.jsx("button",{onClick:m,style:{width:"100%",padding:10,fontWeight:600,background:"#222",color:"#fff",border:"none",borderRadius:4,cursor:t?"not-allowed":"pointer"},disabled:t,children:t?"Logging in...":"Login"})]})};export{y as default};
